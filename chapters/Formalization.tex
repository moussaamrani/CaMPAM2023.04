\section{Formalization}
\label{sec:Formalization}
In this chapter we define the terms suggestion and applicable suggestion. We introduce possible ways to refine a suggestion and to add domain specific knowledge.

\begin{definition}[Suggestion]
We define a suggestion $SUG$ as a 4-Tuple of a type of a change on the \metamodel $MMC$, a view generation transformation $VGT$, constraints $CON$ and a suggestion content $SUC$. Short: $SUG = (MMC, VGT, CON, SUC)$
\end{definition}
Possible $MMC$ are defined in \cref{tab:suggestions}. A suggestion always contains one change. Change sequences that have domain semantics should define a new complex change, because the contained domain knowledge is interesting for other analyses besides suggestions. The view generation operators $VGO$ are defined in \cref{fig:model-query-operators}. They can be combined to a $VGT$. $VGTs$ may form a hierarchy that can be used for the refinement of suggestions. The constraints are defined on either the \metamodel, its instance, the view generation operators or the target \metamodel. Constraints may also form a hierarchy for the refinement of suggestions. The $SUC$ is either a textual description of the suggestion or a change on the viewtype or a combination of both. Both is preferable as it enables the methodologist to precisely define the change on the \viewtype \metamodel as well as giving some rationale.

An example for a suggestion is \textit{(Create Attribute in metamodel, Select,  "viewtype is identity mapping of metamodel", ("As the viewtype is an identity mapping of the underlying metamodel, we suggest to update the viewtype to also include the new attribute.", Create Attribute in viewtype metamodel))}. A possible refinement could also include the $CON$ \textit{attribute is marked as hidden} which may semantically take precedence over the identity mapping and the suggestion contains the $SUC$ \textit{"As the attribute is marked as hidden, we suggest to not update the viewtype."}. Both $VGT$ and $CON$ enable the methodologist to include semantic domain specific knowledge into the suggestions.

\begin{definition}[Applicable Suggestion]
We define an applicable suggestion as a 3-Tuple of a suggestion, a transformation of the $VGT$($TVGT$) and a transformation between the $MMC$ and the $SUC$($TSUC$). Short $ASU = (SUG, TVGT, TSUC)$
\end{definition}
Note that the $SUC$ of an $ASU$ has to contain the definition of the change on the \viewtype \metamodel. The $TVGT$ transforms the $VGO$, e.g. by adding a newly created attribute as input. The $TSUC$ transforms the change on the \metamodel in a change on the \viewtype \metamodel. In the example above, the change on the \metamodel will be transformed by changing its target from the \metamodel to the \viewtype \metamodel. A suggestion can have multiple applicable suggestions from which the methodologist can chose the most appropriate one.