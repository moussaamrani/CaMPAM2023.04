\section{Conceptual Model for \Viewtype Co-evolution}
\label{sec:Suggestion}

Figure \ref{fig:Suggestion} depicts a \metamodel that captures the
required elements for helping methodologists improve their \viewtype designs,
by suggesting possible ways to co-evolve \viewtypes.
In the following, we assume that a methodologist is working on a \metamodel
under evolution \textsf{MM}, that is linked to a set $\mathsf{VT}$ of viewtypes
(i.e. $\mathsf{VT} = (\mathsf{VT}_\mathsf{i})_{\mathsf{i}\in [1..n]}$). Note that in the discussion above, when we discuss
\textsf{MM}'s (meta-)elements, we consider \textsf{MM} as a \emph{model}
conforming to a particular meta-\metamodel (such as \textsc{Mof} \cite{TR:OMG-MOF:2016}):
we therefore discuss changes on \textsf{MM}'s packages, classes (e.g. 
\textsf{FSM} or \textsf{State} in our example) and their structural features
(such as the attribute \textsf{name} or the reference \textsf{src}).

A \textsf{Suggestion} is the core element of our approach, and contains four 
parts: (1) a change \textsf{Operator}, detailed in Figure \ref{fig:Operator}, capturing the nature of
alterations performed on \textsf{MM}'s meta-elements; 
    (2) a \textsf{Relation}, providing traceability links between \textsf{MM} 
		and \textsf{VT}: for each meta-element in \textsf{MM} subject to a 
		change by an \textsf{Operator}, a \textsf{Relation} identifies which 
		meta-elements in \textsf{VT} may be affected;
    (3) a \textsf{Recommendation}, detailing possible actions a methodologist 
		may perform to realign \textsf{VT} after a change;
		 and (4) some \textsf{Condition}s providing additional information on the
		applicability of \textsf{Operator}s, which can be extended or enriched with domain knowledge for generating more specific suggestions.
		\MA{For now, I still don't see where these would be helpful in our example.
		We may still discuss that in general in the Discussion Section, but in that
		case, we should remove it from the \textsf{Suggestion} metamodel!}
%\end{enumerate}

Note that a \textsf{Suggestion} may 
have \emph{no} associated \textsf{Recommendation}s, in case an \textsf{Operator} has no
impact on \textsf{VT}; or \emph{several} \textsf{Recommendation}s for the same 
\textsf{Operator}, depending on its complexity, and how many \viewtypes are 
affected by the \textsf{Operator}.

The rest of this Section details each part of the \textsf{Suggestion}. We discuss the actual suggestions in Section~\ref{sec:Approach} and present the corresponding summary in Table~\ref{tab:suggestions}.



\input{chapters/Change}
\input{chapters/Relations}
\input{chapters/Recommendation}
\input{chapters/Conditions}


\HM{Some comments we should decide on: 
    - Re-layout some of the figures to avoid overlapping text, lines, or if too crowded. In the figures there are some text in bold (edge label) and some are not. This could be useful in the context of Eclipse, but probably not here? Streamline these?
    - We are mixing lots of different font styles. I think we should decide max 3 (preferably 2) font styles. I suggest normal, italics and monospace or textsf.
    - While referencing or citing I see a mixing of latex 'ref' or 'cite' and enhanced ones with different package like 'textcite' or 'autoref'. We should decide on one style.
}