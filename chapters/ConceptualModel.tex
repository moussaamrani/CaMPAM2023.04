\section{Conceptual Model for \Viewtype Co-evolution}
\label{sec:Suggestion}

\cref{fig:Suggestion} depicts a \metamodel capturing the
required elements for helping methodologists ensure their \viewtypes become consistent again after \metamodel evolution,
by suggesting possible ways to co-evolve them.
In the following, we assume that a methodologist is working on a \metamodel
under evolution \textsf{MM}, that is linked to a set $\mathsf{VT}$ of viewtypes
(i.e., $\mathsf{VT} = (\mathsf{VT}_\mathsf{i})_{\mathsf{i}\in [1..n]}$). Note that
% in the discussion above, when we discuss\textsf{MM}'s (meta-)elements, 
we consider \textsf{MM} as a \emph{model}
conforming to a particular meta-\metamodel (such as \textsc{Mof} \cite{TR:OMG-MOF:2016}):
we therefore discuss changes on \textsf{MM}'s packages, classes (e.g., 
\textsf{FSM} or \textsf{State} in our example) and their structural features
(i.e., the attribute \textsf{name} or the reference \textsf{src}).

A \textsf{Suggestion} is the core element of our approach, and contains four 
parts: (1) a change \textsf{Operator}, detailed in \cref{fig:Operator}, 
capturing the nature of alterations performed on \textsf{MM}'s meta-elements; 
(2) a \textsf{Relation}, providing traceability links between \textsf{MM} 
and \textsf{VT}: for each meta-element in \textsf{MM} subject to a 
change by an \textsf{Operator}, a \textsf{Relation} identifies which 
meta-elements in \textsf{VT} may be affected;
(3) a \textsf{Recommendation}, detailing possible actions a methodologist 
may perform to realign \textsf{VT} after a change; and 
(4) some \textsf{Condition}s providing additional information on the applicability
of \textsf{Operator}s \LK{What is the applicability of operators here, since operators capture the changes on the MM? Should this be the applicability of the suggestion/recommendation?}\LC{I think the answer is 'Yes'}, which can be extended or enriched with domain knowledge 
for generating more specific suggestions.


Note that a \textsf{Suggestion} may 
have \emph{no} associated \textsf{Recommendation}s, in case an \textsf{Operator} has no
impact on \textsf{VT}; or \emph{several} \textsf{Recommendation}s for the same 
\textsf{Operator}, depending on its complexity \LK{But this would only work if all recommendations have the same conditions, right?}\LC{I agree}, and how many \viewtypes are 
impacted by the \textsf{Operator}. 
% \TW{The operator does not directly affect \viewtypes---probably change to impacted?} \HM{ok}

The rest of this Section details each part of the \textsf{Suggestion}.
%\LK{The titles of the subsections are currently inconsistent: \emph{Change} should probably be \emph{Recommendation(s)} and we should agree on either singular or plural for the four subsection titles.}\LC{Fixing; singular, and also changing A.-subsection to \textit{Operator}; not to \textit{Recommendation}, as that's C.-subsection}
We discuss the actual suggestions in \cref{sec:Approach} and present the corresponding summary in \cref{tab:suggestions}.



\input{chapters/Change}
\input{chapters/Relations}
\input{chapters/Recommendation}
\input{chapters/Conditions}


% \HM{Some comments we should decide on:
% \begin{enumerate}
% 	\item Re-layout some of the figures to avoid overlapping text, lines, or if 
% 	too crowded. In the figures there are some text in bold (edge label) and some 
% 	are not. This could be useful in the context of Eclipse, but probably not here?
% 	Streamline these? 
%   \item We are mixing lots of different font styles. I think we should decide max 3 (preferably 2) font styles. I suggest normal, italics and monospace or textsf.
% 	\item While referencing or citing I see a mixing of latex 'ref' or 'cite' and enhanced ones with different package like 'textcite' or 'autoref'. We should decide on one style.
% \end{enumerate}
% }
% \MA{Using the same numbering as above:
% \begin{enumerate}
% 	\item Did the best I could: let me know if something still needs 
% 	further corrections
% 	\item Using three fonts is very classic in the MDE community: \emph{emphasised}
% 	text is, well, for emphasising something in the text; and \textsf{sans serif (sf)}
% 	is for referring to (meta-)model elements. I suggest to leave it the way it is.
% 	\item Normally, ``ref'' and ``cite'' play different
% 	roles: the former is for \emph{internal} reference of sections, tables, figs, etc.;
% 	the latter for bibliographic references. In our case, for bibs, we are using
% 	biber, which offers advanced capabilities: you can actually inline-cite the authors
% 	with ``textcite'' (so that a text like ``We expand the result of Schwarzenegger
% 	and Newman [2] ...'' follows the actual style by, e.g., citing no more than 
% 	three authors before \emph{et al.}). I reviewed all ``cite'' in the document and
% 	corrected all mentions to the appropriate LaTeX command. ``autoref'' should be
% 	safe. 
% \end{enumerate}}